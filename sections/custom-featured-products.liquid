{% schema %}
{
  "name": "Custom products section",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Title",
      "default": "Nuestros productos destacados"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "label": "Quantity of products to show",
      "min": 1,
      "max": 12,
      "step": 1,
      "default": 4
    }
  ],
  "presets": [
    {
      "name": "Custom products section",
      "category": "Products"
    }
  ]
}
{% endschema %}

<div class="custom-featured-products">
  <h2>{{ section.settings.heading }}</h2>

  {% if section.settings.collection %}
    <div class="products-grid">
      {% assign products = section.settings.collection.products | slice: 0, section.settings.products_to_show %}

      {% for product in products %}
        <div class="product-card">
          <a href="{{ product.url }}">
            {% if product.featured_image %}
              <img class="product-card__image" src="{{ product.featured_image | image_url: width: 400 }}" alt="{{ product.title }}" />
            {% endif %}
            <h3 class="product-card__title">{{ product.title }}</h3>
            <p class="product-card__price">{{ product.price | money }}</p>
          </a>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>Selecciona una colecci√≥n para mostrar productos.</p>
  {% endif %}
</div>

<style>
  .custom-featured-products {
    padding: 2rem;
    text-align: center;
  }

  .custom-featured-products h2 {
    font-size: 2rem;
    margin-bottom: 1.5rem;
  }

  .custom-featured-products .products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
  }

  .custom-featured-products .product-card {
    border: 1px solid #eee;
    padding: 1rem;
    transition: transform 0.2s ease;
  }

  .custom-featured-products .product-card:hover {
    transform: translateY(-5px);
  }

  .custom-featured-products .product-card__image {
    max-width: 100%;
    height: auto;
    margin-bottom: 0.5rem;
  }

  .custom-featured-products .product-card__title {
    font-size: 1.2rem;
    font-weight: 600;
  }

  .custom-featured-products .product-card__price {
    font-size: 1rem;
    color: #444;
  }
</style>
